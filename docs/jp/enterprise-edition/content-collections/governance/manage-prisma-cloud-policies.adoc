:topic_type: タスク
[.task]
[#id3a353f17-20fd-4632-8173-8893ab57fe0d]
== Prisma Cloudポリシーの管理

Prisma Cloudポリシーの選択方法を学習します。

Prisma Cloudポリシーを使用すると、クラウドインフラストラクチャ全体の潜在的な設定ミスやリスクを監視および管理できます。*ポリシー*のグラフと表を使用して、ポリシー適用範囲とポリシーの使用率を評価できます。

ロールに基づいて関連するポリシーを見つけるのに役立つように、表データを操作したり、ポリシーカテゴリ、クラス、タイプ、サブタイプなどのフィルタを追加したり、*グループ化基準*を使用して、重要な基準を使用してポリシーを集約したりできます。

有効になっているポリシーの数として視覚化し、さまざまなポリシータイプ間の分割を確認し、インフラストラクチャで特定されたさまざまな重大度のポリシーの数を確認し、ポリシーカテゴリやPrisma Cloud、アラートを生成しているカスタムポリシーに関する詳細な情報を得ることができます。

//image::governance/policies-multi-alert.png[]

ポリシーは、インシデントとリスクの_カテゴリ_にあります。インシデントは潜在的なセキュリティ問題を特定するポリシーである可能性が高く、リスクは危険を孕む設定をチェックするポリシーです。ポリシー_タイプ_は、チェックがネットワークログ、監査ログ、設定ログ、またはユーザーアクティビティログのいずれに対して実行されるかを示します。各ポリシータイプには、より詳細な情報を得るための_サブタイプ_があります。たとえば、異常ポリシーは、ネットワークとUEBAの2つのサブタイプに分割されます。_クラス_は、ポリシーを設定ミスや特権アクティビティの監視などのバケットを論理的にグループ化するもう1つの方法です。

[cols="17%a,24%a,28%a,31%a"]
|===
|カテゴリ
|クラス
|タイプ
|サブタイプ


.6+|*インシデント*
|挙動
|異常
|UEBA



|挙動
|異常
|ネットワーク

|挙動
|異常
|DNS


|特権アクティビティのモニタリング
|監査イベント
|監査


|ネットワーク保護
|ネットワーク
|Network Event（ネットワークイベント）

|ランタイム
|ワークロード
|実行

.5+|*リスク*
|設定ミス
|Config
|実行



|設定ミス
|Config
|ビルド


|設定ミス
|データ
|データ分類


|脆弱性
|データ
|Malware

|脆弱性
|ワークロード
|実行

|===

Prisma Cloudポリシーを管理するには、次のワークフローを使用してください。*Policies（ポリシー）*ページでは、ポリシーデータのダウンロード、ポリシーの複製、有効化、削除、または無効化を行えます。

[.procedure]
. Prisma Cloud スイッチャーで [*アプリケーションセキュリティ*] を選択します。
. 右上隅から [*設定*] 、[*エンタープライズ設定*] の順に選択します。
+
重要度の高いポリシーの中には、最高のセキュリティ効果が得られるように有効になっているものもありますが、デフォルトでは、重大度が中または低のポリシーは「無効」状態になっています。
+++<draft-comment>Prisma Cloudインスタンスが2019年3月より前にプロビジョニングされ、その日以降にプロビジョニングされたインスタンスに対して自動的に有効になった場合</draft-comment>+++
+
. 重要度に基づいてポリシーを有効にするには、[重要][高][中][低][情報]のタイプの*デフォルトのポリシーを自動的に有効にする*を選択します。有効にした事項に基づいて、オンボーディングしたクラウドアカウント内のリソースが、重大度に一致するポリシーを利用してスキャンされ、アラートが生成されます。
+
[NOTE]
====
異常ポリシーについては、さらにカスタマイズ可能な設定があります。xref:../administration/define-prisma-cloud-enterprise-settings.adoc#id6f5bd95c-b5b5-48bf-b397-312f4de3e08c[Prisma Cloud Enterprise および異常設定の定義] を参照してください。
====
+
image::governance/prisma-cloud-policies-global-enable.png[]
+
変更内容を*Save（保存）*する場合、次のいずれかのオプションを選択できます。
+
* *Enable and Save（有効化して保存）*—このオプションでは、選択基準に一致する既存のすべてのポリシーと、定期的にサービスに追加される新たなPrisma Cloudデフォルトポリシーが有効になります。このオプションを利用すると、すべての既存のポリシーや新しいポリシーに対してリソースを有効化、スキャンして、率先して脅威や設定誤りを発見して対策することができます。
+
image::governance/enterprise-settings-policies.png[]

* *Save（保存）*—このオプションでは、選択した基準を保存して、新たなPrisma Cloudデフォルトポリシーが定期的にサービスに追加された場合にのみ、それを有効にします。選択内容に一致する新しいポリシーは自動的に有効になり、変更を行った後それらのポリシーに対してリソースがスキャンされます。

* 次の動作に注意してください。
+
[NOTE]
====
特定の重大度のポリシーを有効にした場合、その後チェック ボックスの選択を解除しても、前に有効になっていたポリシーは無効にはなりません。選択を解除したチェックボックスに、それ以降一致するポリシーが無効になり、クラウドリソースのスキャンとアラートの生成を行わなくなります。

image::governance/enterprise-settings-policies-disable.png[]
====
* 監査ログには、Prisma Cloudで実行または開始されたすべてのアクティビティの記録が含まれています。監査ログを表示するには、*Settings（設定）> Audit Logs（監査ログ）*を選択します。

. ポリシーを表示するには、「*ガバナンス*」に移動し、「*ビューを管理*」を選択またはします。
//+
//image::governance/policies-filter.gif[]

. *フィルタを追加し*、フィルタリング条件を選択します。
+
フィルタを使用すると、ページの検索結果を絞り込むことができます。フィルタ内で選択した値は、AND演算子を使用して結果を表示します。さまざまなフィルタ間で、選択した値はOR演算子として機能します。テーブルビューでは、*グループ化基準*を使用して、重要な基準を使用してポリシーを集計することもできます。
+
image::governance/add-filters.png[]
+
[NOTE]
====
特定の*ポリシーサブタイプ*のすべてのPrismaCloudポリシーを検索するには、*Build（ビルド）*と*Run（実行）*の値を選択すると、ビルドポリシーまたは実行ポリシーとして分類されているすべてのポリシーを表示できます。ビルドおよび実行として分類されるすべてのポリシーを検索するには、フィルタ値*ビルド、実行*を選択する必要があります。
====

. 表の右上隅にある [*ダウンロード*] を選択すると、ポリシーの詳細 (またはフィルターされた一連のポリシー) がCSV形式でダウンロードされます。

.. [*ステータス*]列のトグルで任意のポリシーを有効または無効にできます
+
[NOTE]
====
ポリシーを無効にすると、次のような確認メッセージが表示されます。 *このポリシーを無効にすると、未解決のアラートが自動的に解決済みとして記録されます。4 時間はポリシーを再度有効にすることはできません。続行しますか?*

確認すると、ポリシーが無効になります。これにより、ポリシーを再度有効にできない 4 時間の期間が始まります。この期間中、ポリシーを有効にするためのトグルはグレーアウトされ、また、ポリシーのステータスを変更するためにAPIを使用すると、HTTPレスポンスはエラーを表示します。

これはすべてのポリシータイプとポリシーの重要度に適用されます。
====
+
image::governance/policy-status.png[]

.. 各カスタムポリシーには、カスタムポリシーの**編集**（Prisma Cloudのデフォルトポリシーの編集はできません）、既存のポリシーの**複製**、およびポリシーに関連する*アラート*の表示の3つの*アクション*が可能です。
+
image::governance/policy-actions.png[]
+
新しいポリシーをすばやく作成するには、Prisma Cloudのデフォルトポリシーを複製してから詳細を変更します。
