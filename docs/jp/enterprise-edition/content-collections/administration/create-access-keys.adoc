:topic_type: タスク
[.task]
[#idb225a52a-85ea-4b0c-9d69-d2dfca250e16]
== アクセスキーの作成と管理

アクセスキーを生成する、およびPrisma Cloud APIへの保護されたアクセスを有効にする方法について学習します。

アクセスキーは、外部統合またはオートメーションをセットアップしている場合に、Prisma Cloud APIにプログラム的にアクセスするための、安全な手段を提供しています。デフォルトでは、システム管理者のみがAPIにアクセスできます。他の管理者のAPIへのアクセスを有効にすることもできます。

xref:add-prisma-cloud-users.adoc#id2730a69c-eea8-4e00-a7f1-df3b046615bc[Prisma Cloud で管理ユーザーを追加]するときに、API アクセスを有効にすることができます。ユーザー権限を変更して API アクセスを有効にすることもできます。APIアクセスがある場合、ほとんどのロールでは最大2つまでのアクセスキーを作成することができます。ただし、Build and Deploy Security（セキュリティの作成と展開）ロールなど、一部のロールではアクセスキーは1つのみしか作成できません。アクセスキーを作成すると、キーはログインに使用したロールに関連付けられ、ロールを削除すると、アクセスキーは自動的に削除されます。

露出の可能性を最低限に抑え、セキュリティ上のベストプラクティスに従うため、限定された期間のみ有効なアクセスキーを作成し、定期的にAPIキーを再生成するようにしてください。*Settings（設定）>Audit Logs（監査ログ）*で、アクセスキーに関連するすべての活動（有効期間延長のための更新、削除、失効など）の記録を見ることができます。

[.procedure]
. *Settings（設定）> Access Control（アクセス制御）> Access Keys（アクセスキー）*を順に選択し、*Add（追加）>Access Key（アクセスキー）*を選択します。
+
新しいキーを追加するオプションが表示されない場合は、アクセスキーを作成する権限がないことを意味しています。

. *Name（名前）*フィールドに分かりやすい鍵名を入力します。

. *Key Expiry（キーの有効期限）*の条件を設定します。
+
[NOTE]
====
チェック ボックスを選択して、会社のコンプライアンス基準に従った、キーの有効期間を日時で指定します。キーの有効期限を選択しない場合、有効期限はないものとして扱われます。選択したけれども、日付を指定しない場合、キーは1ヶ月で失効します。キーが不正利用されたような場合は、無効にする（*Make Inactive（非アクティブにする）*）ことができます。
====

. キーを*Create（作成）*します。
+
複数のロールを利用する場合、ロールを切り替えて各ロールのアクセスキーを作成する必要があります。
+
image::administration/create-access-key.png[30]
+
Access Key ID（アクセスキーID）とSecret Key（シークレットキー）をコピーするか、またはCSVファイルとしてダウンロードします。いったんウィンドウを閉じたら、シークレットキーを再表示することはできません。必要な場合は、既存のキーを削除してから、新たに作成する必要があります。
+
image::administration/download-access-key.png[30]

. キーの詳細を参照します。
+
image::administration/view-access-key.png[40]
+
ここでは、キーの有効期限を確認し、期限を更新することができます。また、前回の使用時刻とステータス（Active（アクティブ）またはExpired（失効））を参照することも可能です。
+
複数のロールを利用する場合、アクセスキーの詳細には現在ログインしているロールの説明のみが表示されます。
+
[NOTE]
====
ロールを削除すると、ロールに関連付けられているアクセスキーが自動的に削除され、アクセスキーを使用してPrisma Cloudを呼び出す統合は機能しなくなります。
====
